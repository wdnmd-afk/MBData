# Metabase é¡¹ç›®æ·±åº¦åˆ†æ - æ€»è§ˆ

> ç”Ÿæˆæ—¶é—´: 2025-11-19
> åˆ†æèŒƒå›´: å®Œæ•´é¡¹ç›®æºä»£ç 
> æ–‡æ¡£çŠ¶æ€: âœ… å·²å®Œæˆ

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Metabase** æ˜¯ä¸€ä¸ªå¼€æºçš„å•†ä¸šæ™ºèƒ½å’Œæ•°æ®åˆ†æå¹³å°ï¼Œè®©å…¬å¸å†…çš„æ¯ä¸ªäººéƒ½èƒ½è½»æ¾æŸ¥è¯¢æ•°æ®å¹¶ä»ä¸­å­¦ä¹ ï¼Œæ— éœ€ SQL çŸ¥è¯†ã€‚

- **å®˜ç½‘**: https://www.metabase.com
- **GitHub**: https://github.com/metabase/metabase
- **è®¸å¯**: AGPL (å¼€æºç‰ˆ) + å•†ä¸šè®¸å¯ (ä¼ä¸šç‰ˆ)

---

## ğŸ—‚ æ–‡æ¡£ç»“æ„

æœ¬åˆ†ææŠ¥å‘ŠåŒ…å« 4 ä¸ªä¸»è¦éƒ¨åˆ†ï¼š

| æ–‡æ¡£ | å†…å®¹æ¦‚è¦ | é€‚åˆäººç¾¤ |
|------|---------|---------|
| [ç¬¬ä¸€éƒ¨åˆ†](./01-é¡¹ç›®æ¦‚è§ˆä¸æŠ€æœ¯æ ˆ.md) | æŠ€æœ¯æ ˆã€ç¯å¢ƒé…ç½®ã€å¿«é€Ÿå¯åŠ¨ | æ–°æ‰‹å¼€å‘è€… |
| [ç¬¬äºŒéƒ¨åˆ†](./02-é¡¹ç›®æ¶æ„ä¸æ ¸å¿ƒæ¨¡å—.md) | æ¶æ„è®¾è®¡ã€æ ¸å¿ƒæ¨¡å—è¯¦è§£ | æ¶æ„å¸ˆã€é«˜çº§å¼€å‘è€… |
| [ç¬¬ä¸‰éƒ¨åˆ†](./03-å¼€å‘å·¥ä½œæµä¸æœ€ä½³å®è·µ.md) | å¼€å‘æµç¨‹ã€ä»£ç è§„èŒƒã€æœ€ä½³å®è·µ | è´¡çŒ®è€…ã€å¼€å‘è€… |
| [ç¬¬å››éƒ¨åˆ†](./04-æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½².md) | æµ‹è¯•æ–¹æ³•ã€æ„å»ºéƒ¨ç½² | æµ‹è¯•å·¥ç¨‹å¸ˆã€è¿ç»´ |

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ
### åç«¯
- **Clojure** 1.12.3 + **Java** 22+
- **Ring** + **Compojure** (Web æ¡†æ¶)
- **Toucan2** (ORM)
- **Malli** (æ•°æ®éªŒè¯)

### å‰ç«¯
- **React** 18.2 + **TypeScript** 5.9
- **Redux Toolkit** (çŠ¶æ€ç®¡ç†)
- **Mantine** 8.3 (UI ç»„ä»¶)
- **D3** + **ECharts** (å¯è§†åŒ–)

### æ„å»ºå·¥å…·
- **Rspack** (å‰ç«¯æ„å»º)
- **Shadow-CLJS** (ClojureScript ç¼–è¯‘)
- **Jest** + **Cypress** (æµ‹è¯•)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å¯åŠ¨
```bash
yarn dev
```

### åˆ†æ­¥å¯åŠ¨
```bash
# å‰ç«¯
yarn install
yarn build-hot

# åç«¯
./bin/build-drivers.sh
clojure -M:run
```

è®¿é—®: http://localhost:3000

---

## ğŸ— é¡¹ç›®æ¶æ„æ¦‚è§ˆ

```
ç”¨æˆ·ç•Œé¢ (React/TypeScript)
    â†“
REST API (Clojure)
    â†“
æŸ¥è¯¢å¤„ç†å™¨ (Query Processor)
    â†“
é©±åŠ¨å±‚ (15+ æ•°æ®åº“é©±åŠ¨)
    â†“
æ•°æ®æº (PostgreSQL, MySQL, BigQuery...)
```

---

## ğŸ“Š é¡¹ç›®è§„æ¨¡

- **ä»£ç è¡Œæ•°**: æ•°åä¸‡è¡Œ
- **æ¨¡å—æ•°é‡**: 50+ ç‹¬ç«‹æ¨¡å—
- **é©±åŠ¨æ”¯æŒ**: 15+ æ•°æ®åº“
- **ä¾èµ–æ•°é‡**:
  - Clojure: 200+ ä¾èµ–
  - Node.js: 150+ ä¾èµ–
- **é…ç½®æ–‡ä»¶**:
  - `deps.edn`: 925 è¡Œ
  - `package.json`: 529 è¡Œ

---

## ğŸ—ƒ æ”¯æŒçš„æ•°æ®åº“

### å…³ç³»å‹æ•°æ®åº“
PostgreSQL â€¢ MySQL â€¢ SQL Server â€¢ Oracle â€¢ SQLite

### äº‘æ•°æ®ä»“åº“
BigQuery â€¢ Redshift â€¢ Snowflake â€¢ Athena â€¢ Databricks

### å¤§æ•°æ®å¹³å°
Spark SQL â€¢ Presto â€¢ Druid â€¢ ClickHouse â€¢ Vertica

### NoSQL
MongoDB

### åµŒå…¥å¼
H2 (å¼€å‘/æµ‹è¯•)

---

## ğŸ§© æ ¸å¿ƒæ¨¡å—

### åç«¯æ ¸å¿ƒ
- **query-processor**: æŸ¥è¯¢å¤„ç†å’Œä¼˜åŒ–
- **driver**: æ•°æ®åº“é©±åŠ¨æŠ½è±¡å±‚
- **permissions**: ç»†ç²’åº¦æƒé™æ§åˆ¶
- **api**: RESTful API ç«¯ç‚¹
- **models**: æ•°æ®æ¨¡å‹ (Toucan2)

### å‰ç«¯æ ¸å¿ƒ
- **query_builder**: å¯è§†åŒ–æŸ¥è¯¢æ„å»ºå™¨
- **dashboard**: ä»ªè¡¨æ¿ç¼–è¾‘å’Œå±•ç¤º
- **visualizations**: å›¾è¡¨å¯è§†åŒ–ç»„ä»¶
- **admin**: ç®¡ç†åå°ç•Œé¢
- **embedding-sdk**: åµŒå…¥å¼ SDK

---

## ğŸ’» å¼€å‘å·¥ä½œæµ

### REPL é©±åŠ¨å¼€å‘ (Clojure)
```bash
# å¯åŠ¨ REPL
clojure -A:dev

# åŠ è½½å¹¶æµ‹è¯•å‡½æ•°
./bin/mage -repl --namespace metabase.query-processor.core

# æ£€æŸ¥ä»£ç å¯è¯»æ€§
./bin/mage -check-readable src/metabase/file.clj
```

### å‰ç«¯çƒ­é‡è½½å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn build-hot

# æ–‡ä»¶ä¿å­˜åè‡ªåŠ¨é‡æ–°ç¼–è¯‘
# React ç»„ä»¶ä¿æŒçŠ¶æ€
```

---

## ğŸ§ª æµ‹è¯•ä½“ç³»

### å‰ç«¯æµ‹è¯•
```bash
yarn test-unit          # Jest å•å…ƒæµ‹è¯•
yarn test-cypress       # Cypress E2E æµ‹è¯•
yarn test-visual:loki   # Loki è§†è§‰å›å½’æµ‹è¯•
```

### åç«¯æµ‹è¯•
```bash
clojure -X:dev:test               # æ‰€æœ‰æµ‹è¯•
./bin/mage run-tests namespace    # ç‰¹å®šå‘½åç©ºé—´
```

---

## ğŸ“ ä»£ç è§„èŒƒè¦ç‚¹

### Clojure è§„èŒƒ
- ä½¿ç”¨æè¿°æ€§åç§°ï¼Œé¿å…ç¼©å†™
- çº¯å‡½æ•°å‘½åä¸ºåè¯
- å‰¯ä½œç”¨å‡½æ•°ä»¥ `!` ç»“å°¾
- è°“è¯å‡½æ•°ä»¥ `?` ç»“å°¾
- æ‰€æœ‰å…¬å…±å‡½æ•°å¿…é¡»æœ‰æ–‡æ¡£å­—ç¬¦ä¸²
- ä½¿ç”¨ `kebab-case`

### TypeScript è§„èŒƒ
- å‡½æ•°ç»„ä»¶ + Hooks
- ä½¿ç”¨ TypeScript ç±»å‹å®šä¹‰
- Redux Toolkit ç®¡ç†çŠ¶æ€
- CSS Modules æˆ– Emotion

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### å¼€å‘
```bash
yarn dev                 # å®Œæ•´å¼€å‘ç¯å¢ƒ
yarn build-hot           # å‰ç«¯çƒ­é‡è½½
clojure -M:run           # åç«¯æœåŠ¡å™¨
```

### æµ‹è¯•
```bash
yarn test-unit           # å‰ç«¯å•å…ƒæµ‹è¯•
yarn test-cypress        # E2E æµ‹è¯•
clojure -X:dev:test      # åç«¯æµ‹è¯•
```

### ä»£ç æ£€æŸ¥
```bash
yarn lint-eslint         # ESLint
yarn type-check          # TypeScript
./bin/mage kondo         # Clojure Kondo
./bin/mage cljfmt        # æ ¼å¼åŒ–
```

### æ„å»º
```bash
yarn build-release       # ç”Ÿäº§æ„å»º
./bin/mage build         # å®Œæ•´æ„å»º
docker build -t metabase .  # Docker é•œåƒ
```

---

## ğŸŒŸ ç‰¹è‰²åŠŸèƒ½

### 1. æ— ä»£ç æŸ¥è¯¢æ„å»ºå™¨
æ‹–æ‹½å¼ç•Œé¢ï¼Œæ— éœ€ SQL å³å¯æ„å»ºå¤æ‚æŸ¥è¯¢

### 2. SQL ç¼–è¾‘å™¨
æ”¯æŒè¯­æ³•é«˜äº®ã€è‡ªåŠ¨å®Œæˆã€æ ¼å¼åŒ–

### 3. äº¤äº’å¼ä»ªè¡¨æ¿
å‚æ•°è¿‡æ»¤ã€è‡ªåŠ¨åˆ·æ–°ã€é’»å–åŠŸèƒ½

### 4. åµŒå…¥å¼ SDK
React ç»„ä»¶ï¼Œè½»æ¾åµŒå…¥åˆ°ä»»ä½•åº”ç”¨

### 5. æƒé™ç³»ç»Ÿ
ç»†ç²’åº¦æ•°æ®æƒé™ï¼Œæ”¯æŒè¡Œçº§å®‰å…¨

### 6. è‡ªåŠ¨åŒ–
å®šæ—¶æŠ¥å‘Šã€æ™ºèƒ½å‘Šè­¦

---

## ğŸ“š å­¦ä¹ è·¯å¾„å»ºè®®

### 1ï¸âƒ£ æ–°æ‰‹å…¥é—¨
1. é˜…è¯» [ç¬¬ä¸€éƒ¨åˆ†](./01-é¡¹ç›®æ¦‚è§ˆä¸æŠ€æœ¯æ ˆ.md)
2. æŒ‰ç…§å¿«é€Ÿå¯åŠ¨æŒ‡å—è¿è¡Œé¡¹ç›®
3. æµè§ˆå‰ç«¯å’Œåç«¯ä»£ç ç»“æ„

### 2ï¸âƒ£ æ·±å…¥ç†è§£
1. å­¦ä¹  [ç¬¬äºŒéƒ¨åˆ†](./02-é¡¹ç›®æ¶æ„ä¸æ ¸å¿ƒæ¨¡å—.md)
2. ç†è§£æŸ¥è¯¢å¤„ç†å™¨å·¥ä½œåŸç†
3. ç ”ç©¶é©±åŠ¨ç³»ç»Ÿæ¶æ„

### 3ï¸âƒ£ å®æˆ˜å¼€å‘
1. è·Ÿéš [ç¬¬ä¸‰éƒ¨åˆ†](./03-å¼€å‘å·¥ä½œæµä¸æœ€ä½³å®è·µ.md)
2. å°è¯•ä¿®å¤ç®€å•çš„ bug
3. ç¼–å†™æµ‹è¯•å¹¶æäº¤ PR

### 4ï¸âƒ£ é«˜çº§è´¡çŒ®
1. å¼€å‘æ–°çš„æ•°æ®åº“é©±åŠ¨
2. æ·»åŠ æ–°çš„å¯è§†åŒ–ç±»å‹
3. ä¼˜åŒ–æ€§èƒ½å’Œæ¶æ„

---

## ğŸ”— é‡è¦èµ„æº

### å®˜æ–¹èµ„æº
- [å®˜æ–¹ç½‘ç«™](https://www.metabase.com)
- [åœ¨çº¿æ–‡æ¡£](https://www.metabase.com/docs/latest/)
- [API æ–‡æ¡£](https://www.metabase.com/docs/latest/api/)
- [å­¦ä¹ ä¸­å¿ƒ](https://www.metabase.com/learn/)

### ç¤¾åŒº
- [GitHub](https://github.com/metabase/metabase)
- [Discourse è®ºå›](https://discourse.metabase.com/)
- [Twitter](https://x.com/metabase)
- [Reddit](https://www.reddit.com/r/Metabase/)

### é¡¹ç›®æ–‡æ¡£
- [CLAUDE.md](../CLAUDE.md) - AI è¾…åŠ©å¼€å‘æŒ‡å—
- [CONTRIBUTING.md](../docs/CONTRIBUTING.md) - è´¡çŒ®æŒ‡å—
- [å¼€å‘è€…æŒ‡å—](../docs/developers-guide/start.md)

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡å¯åŠ¨**: éœ€è¦è¾ƒé•¿æ—¶é—´ä¸‹è½½ä¾èµ–
2. **å†…å­˜è¦æ±‚**: å»ºè®®è‡³å°‘ 8GB RAM
3. **Java ç‰ˆæœ¬**: å¿…é¡»ä½¿ç”¨ Java 22+
4. **Node ç‰ˆæœ¬**: å¿…é¡»ä½¿ç”¨ Node 22+
5. **é©±åŠ¨æ„å»º**: å¼€å‘é©±åŠ¨å‰å¿…é¡»è¿è¡Œ `./bin/build-drivers.sh`

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡ (ä¼°è®¡)

| æŒ‡æ ‡ | æ•°é‡ |
|-----|------|
| æ€»ä»£ç è¡Œæ•° | 500,000+ |
| Clojure ä»£ç  | 250,000+ |
| TypeScript/JavaScript ä»£ç  | 200,000+ |
| æµ‹è¯•ä»£ç  | 50,000+ |
| æäº¤æ¬¡æ•° | 30,000+ |
| è´¡çŒ®è€… | 500+ |
| Stars | 35,000+ |

---

## ğŸ“ æ€»ç»“

Metabase æ˜¯ä¸€ä¸ª:
- âœ… æˆç†Ÿçš„å¼€æº BI å¹³å°
- âœ… ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆ
- âœ… è‰¯å¥½çš„æ¨¡å—åŒ–è®¾è®¡
- âœ… å®Œå–„çš„æµ‹è¯•ä½“ç³»
- âœ… æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒ
- âœ… ä¼ä¸šçº§çš„åŠŸèƒ½å’Œæ€§èƒ½

é€‚åˆ:
- å­¦ä¹ ç°ä»£ Web åº”ç”¨æ¶æ„
- è´¡çŒ®å¼€æºé¡¹ç›®
- æ„å»ºæ•°æ®åˆ†æå¹³å°
- é›†æˆåµŒå…¥å¼åˆ†æåŠŸèƒ½

---

## ğŸ“® åé¦ˆä¸å»ºè®®

å¦‚æœå‘ç°æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆ:
- GitHub Issues
- Discourse è®ºå›
- é¡¹ç›®è´¡çŒ®

---

**ç¥å¼€å‘æ„‰å¿«ï¼** ğŸ‰

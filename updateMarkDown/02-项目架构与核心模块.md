# Metabase é¡¹ç›®æ·±åº¦åˆ†æ - ç¬¬äºŒéƒ¨åˆ†: é¡¹ç›®æ¶æ„ä¸æ ¸å¿ƒæ¨¡å—

> ç”Ÿæˆæ—¶é—´: 2025-11-19  
> é¡¹ç›®è·¯å¾„: e:\github\metabase

---

## ğŸ— æ•´ä½“æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Metabase åº”ç”¨æ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å‰ç«¯å±‚ (FE)   â”‚â—„â”€â”€REST APIâ”€â”€â”¤  åç«¯å±‚ (BE)     â”‚   â”‚
â”‚  â”‚  React/TS/JS   â”‚              â”‚  Clojure/Java   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                â”‚              â”‚
â”‚         â”‚                                â–¼              â”‚
â”‚         â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚         â”‚                         â”‚ æŸ¥è¯¢å¤„ç†å™¨  â”‚      â”‚
â”‚         â”‚                         â”‚     (QP)    â”‚      â”‚
â”‚         â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                â”‚              â”‚
â”‚         â”‚                                â–¼              â”‚
â”‚         â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚         â”‚                         â”‚  é©±åŠ¨å±‚     â”‚      â”‚
â”‚         â”‚                         â”‚ (Drivers)   â”‚      â”‚
â”‚         â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                â”‚              â”‚
â”‚         â–¼                                â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ åµŒå…¥å¼SDK   â”‚                  â”‚   æ•°æ®æº    â”‚     â”‚
â”‚  â”‚ (React SDK) â”‚                  â”‚ (Databases) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—åŒ–æ¶æ„

Metabase é‡‡ç”¨é«˜åº¦æ¨¡å—åŒ–çš„è®¾è®¡,æ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šåŠŸèƒ½é¢†åŸŸã€‚

---

## ğŸ“š æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. æŸ¥è¯¢å¤„ç†å™¨ (Query Processor)

**ä½ç½®**: `src/metabase/query_processor/`

**èŒè´£**:
- MBQL (Metabase Query Language) åˆ° SQL çš„è½¬æ¢
- æŸ¥è¯¢ä¼˜åŒ–
- æƒé™è¿‡æ»¤
- ç»“æœåå¤„ç†

**æ ¸å¿ƒç»„ä»¶**:

#### query-processor/middleware
- æŸ¥è¯¢ä¸­é—´ä»¶é“¾
- é¢„å¤„ç†å’Œåå¤„ç†
- æƒé™æ£€æŸ¥
- å‚æ•°æ³¨å…¥

#### query-processor/compile
- MBQL ç¼–è¯‘ä¸ºåŸç”ŸæŸ¥è¯¢
- æ”¯æŒå¤šç§æ•°æ®åº“æ–¹è¨€
- SQL ç”Ÿæˆä¼˜åŒ–

#### query-processor/execute
- æŸ¥è¯¢æ‰§è¡Œå¼•æ“
- ç»“æœé›†å¤„ç†
- æµå¼å¤„ç†å¤§ç»“æœé›†

#### query-processor/reducers
- ç»“æœæ•°æ®è½¬æ¢
- èšåˆå’Œåˆ†ç»„
- åå¤„ç†é€»è¾‘

**å…³é”®ç‰¹æ€§**:
- **ä¸­é—´ä»¶æ¶æ„**: å¯ç»„åˆçš„æŸ¥è¯¢è½¬æ¢ç®¡é“
- **æƒ°æ€§æ±‚å€¼**: æµå¼å¤„ç†é¿å…å†…å­˜æº¢å‡º
- **ç¼“å­˜æ”¯æŒ**: æŸ¥è¯¢ç»“æœç¼“å­˜
- **æƒé™é›†æˆ**: è‡ªåŠ¨åº”ç”¨æ•°æ®æƒé™

### 2. é©±åŠ¨ç³»ç»Ÿ (Driver System)

**ä½ç½®**: 
- `src/metabase/driver/` (æ ¸å¿ƒæ¥å£)
- `modules/drivers/` (å…·ä½“é©±åŠ¨å®ç°)

**æ¶æ„**:

```
driver (æ¥å£å±‚)
  â”œâ”€â”€ sql-jdbc (JDBC åŸºç¡€é©±åŠ¨)
  â”‚     â”œâ”€â”€ postgres
  â”‚     â”œâ”€â”€ mysql
  â”‚     â”œâ”€â”€ sqlserver
  â”‚     â””â”€â”€ ...
  â”œâ”€â”€ sql (é JDBC SQL é©±åŠ¨)
  â”‚     â”œâ”€â”€ bigquery
  â”‚     â””â”€â”€ ...
  â””â”€â”€ mongo (NoSQL é©±åŠ¨)
```

**é©±åŠ¨èŒè´£**:
- æ•°æ®åº“è¿æ¥ç®¡ç†
- SQL æ–¹è¨€è½¬æ¢
- æ•°æ®ç±»å‹æ˜ å°„
- å…ƒæ•°æ®è·å–
- æŸ¥è¯¢æ‰§è¡Œ

**å¯ç”¨é©±åŠ¨**:
- **SQL æ•°æ®åº“**: PostgreSQL, MySQL, SQL Server, Oracle
- **äº‘æ•°ä»“**: BigQuery, Redshift, Snowflake, Athena, Databricks
- **å¤§æ•°æ®**: Spark SQL, Presto, Druid, ClickHouse
- **NoSQL**: MongoDB
- **å…¶ä»–**: H2, SQLite, Vertica

**é©±åŠ¨å¼€å‘**:
1. ç»§æ‰¿åŸºç¡€é©±åŠ¨ç±»
2. å®ç°å¿…è¦çš„å¤šé‡æ–¹æ³•
3. æ³¨å†Œé©±åŠ¨
4. ç¼–å†™æµ‹è¯•

### 3. API å±‚

**ä½ç½®**: 
- `src/metabase/api/` (å…¬å…± API)
- `src/metabase/*_rest/api.clj` (æ¨¡å— API)

**API è®¾è®¡åŸåˆ™**:
- RESTful é£æ ¼
- ä½¿ç”¨ `defendpoint` å®å®šä¹‰
- Malli schema éªŒè¯
- è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£

**ç«¯ç‚¹å‘½åè§„èŒƒ**:
- è·¯ç”±ä½¿ç”¨å•æ•°åè¯: `/api/dashboard/:id`
- æŸ¥è¯¢å‚æ•°: `kebab-case`
- è¯·æ±‚ä½“: `snake_case`
- å“åº”ä½“: `snake_case`

**ç¤ºä¾‹ç«¯ç‚¹**:
```clojure
(defendpoint :get "/:id" :- Dashboard
  "è·å–æŒ‡å®šä»ªè¡¨æ¿"
  [id]
  {id ms/PositiveInt}
  (api/check-404 (t2/select-one Dashboard :id id)))
```

**å¸¸è§ API ç»„**:
- `/api/dashboard` - ä»ªè¡¨æ¿
- `/api/card` - é—®é¢˜/å¡ç‰‡
- `/api/database` - æ•°æ®åº“è¿æ¥
- `/api/user` - ç”¨æˆ·ç®¡ç†
- `/api/permissions` - æƒé™
- `/api/collection` - é›†åˆ

### 4. æƒé™ç³»ç»Ÿ (Permissions)

**ä½ç½®**: `src/metabase/permissions/`

**æƒé™å±‚çº§**:

```
Database Level
  â”œâ”€â”€ Native (åŸç”ŸæŸ¥è¯¢æƒé™)
  â”œâ”€â”€ Schema Access
  â”‚     â””â”€â”€ Table Access
  â”‚           â”œâ”€â”€ All
  â”‚           â”œâ”€â”€ Sandboxed (æ²™ç®±)
  â”‚           â””â”€â”€ No Access
  â””â”€â”€ Download Results
```

**æ ¸å¿ƒæ¦‚å¿µ**:
- **æƒé™å›¾ (Permissions Graph)**: å±‚çº§åŒ–çš„æƒé™æ ‘
- **ç”¨æˆ·ç»„ (Groups)**: ç”¨æˆ·å½’å±çš„ç»„
- **æ•°æ®æ²™ç®± (Sandboxing)**: ä¼ä¸šç‰ˆè¡Œçº§å®‰å…¨
- **ç»†ç²’åº¦æƒé™**: å­—æ®µçº§ã€è¡¨çº§ã€æ¨¡å¼çº§

**æƒé™æ£€æŸ¥æµç¨‹**:
1. è¯†åˆ«å½“å‰ç”¨æˆ·å’Œç»„
2. æŸ¥æ‰¾æƒé™å›¾
3. ç¡®å®šå…è®¸çš„æ•°æ®è®¿é—®èŒƒå›´
4. åœ¨æŸ¥è¯¢å¤„ç†å™¨ä¸­åº”ç”¨è¿‡æ»¤

### 5. æ•°æ®æ¨¡å‹å±‚ (Models)

**ä½ç½®**: 
- `src/metabase/models/` (Toucan æ¨¡å‹)
- åº”ç”¨æ•°æ®åº“è¡¨

**æ ¸å¿ƒæ¨¡å‹**:

#### Dashboard (ä»ªè¡¨æ¿)
- å¯è§†åŒ–ç»„åˆå®¹å™¨
- å‚æ•°å’Œè¿‡æ»¤å™¨
- å¸ƒå±€å’Œæ ·å¼

#### Card (é—®é¢˜/å¡ç‰‡)
- æŸ¥è¯¢å®šä¹‰
- å¯è§†åŒ–è®¾ç½®
- MBQL æˆ–åŸç”Ÿ SQL

#### Database (æ•°æ®åº“è¿æ¥)
- è¿æ¥é…ç½®
- å…ƒæ•°æ®ç¼“å­˜
- åŒæ­¥çŠ¶æ€

#### Table/Field (è¡¨å’Œå­—æ®µ)
- æ•°æ®åº“å…ƒæ•°æ®
- å­—æ®µç±»å‹å’Œè¯­ä¹‰ç±»å‹
- å­—æ®µå€¼ç¤ºä¾‹

#### Collection (é›†åˆ)
- å†…å®¹ç»„ç»‡
- æƒé™è¾¹ç•Œ
- ä¸ªäºº/å…±äº«é›†åˆ

#### User/Group (ç”¨æˆ·å’Œç»„)
- ç”¨æˆ·è®¤è¯
- ç»„æˆå‘˜å…³ç³»
- æƒé™åˆ†é…

**Toucan2 ç‰¹æ€§**:
- è‡ªåŠ¨ç±»å‹è½¬æ¢
- å¤šé‡æ–¹æ³•æ‰©å±•
- æ‰¹é‡æ°´åˆ (Hydration)
- ç”Ÿå‘½å‘¨æœŸé’©å­

### 6. å‰ç«¯æ¶æ„

**ä½ç½®**: `frontend/src/metabase/`

#### ç›®å½•ç»“æ„

```
metabase/
â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ containers/          # Redux å®¹å™¨
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ lib/                 # åº“å‡½æ•°
â”œâ”€â”€ query_builder/       # æŸ¥è¯¢æ„å»ºå™¨
â”œâ”€â”€ dashboard/           # ä»ªè¡¨æ¿
â”œâ”€â”€ admin/               # ç®¡ç†ç•Œé¢
â”œâ”€â”€ visualizations/      # å¯è§†åŒ–ç»„ä»¶
â”œâ”€â”€ browse/              # æµè§ˆç•Œé¢
â”œâ”€â”€ collections/         # é›†åˆç®¡ç†
â”œâ”€â”€ entities/            # å®ä½“å®šä¹‰
â”œâ”€â”€ actions/             # Redux actions
â”œâ”€â”€ reducers/            # Redux reducers
â”œâ”€â”€ selectors/           # Redux selectors
â”œâ”€â”€ services/            # API æœåŠ¡
â””â”€â”€ setup/               # è®¾ç½®å‘å¯¼
```

#### çŠ¶æ€ç®¡ç†

**Redux æ¶æ„**:
```
State Tree
â”œâ”€â”€ entities (è§„èŒƒåŒ–å®ä½“)
â”‚   â”œâ”€â”€ databases
â”‚   â”œâ”€â”€ tables
â”‚   â”œâ”€â”€ cards
â”‚   â”œâ”€â”€ dashboards
â”‚   â””â”€â”€ users
â”œâ”€â”€ qb (æŸ¥è¯¢æ„å»ºå™¨çŠ¶æ€)
â”œâ”€â”€ dashboard (ä»ªè¡¨æ¿çŠ¶æ€)
â”œâ”€â”€ settings (åº”ç”¨è®¾ç½®)
â””â”€â”€ currentUser (å½“å‰ç”¨æˆ·)
```

**Redux Toolkit**:
- ä½¿ç”¨ `createSlice` å®šä¹‰ reducers
- ä½¿ç”¨ `createAsyncThunk` å¤„ç†å¼‚æ­¥
- Immer å†…ç½®ä¸å¯å˜æ›´æ–°

#### ç»„ä»¶è®¾è®¡æ¨¡å¼

**å‡½æ•°ç»„ä»¶ + Hooks**:
```typescript
function QueryBuilder() {
  const dispatch = useDispatch();
  const query = useSelector(getQuery);
  const [isEditing, setIsEditing] = useState(false);
  
  useEffect(() => {
    // å‰¯ä½œç”¨
  }, [query]);
  
  return <div>...</div>;
}
```

**è‡ªå®šä¹‰ Hooks**:
- `useQuestion`: é—®é¢˜æ•°æ®å’Œæ“ä½œ
- `useDashboard`: ä»ªè¡¨æ¿çŠ¶æ€
- `useApi`: API è°ƒç”¨
- `useDebounce`: é˜²æŠ–

### 7. åµŒå…¥å¼ SDK

**ä½ç½®**: `enterprise/frontend/src/embedding-sdk-package/`

**æ ¸å¿ƒç»„ä»¶**:

#### MetabaseProvider
- SDK åˆå§‹åŒ–
- è®¤è¯é…ç½®
- ä¸»é¢˜å®šåˆ¶

#### ç‹¬ç«‹ç»„ä»¶
- `StaticQuestion`: é™æ€é—®é¢˜æ˜¾ç¤º
- `StaticDashboard`: é™æ€ä»ªè¡¨æ¿
- `InteractiveDashboard`: äº¤äº’å¼ä»ªè¡¨æ¿
- `InteractiveQuestion`: äº¤äº’å¼é—®é¢˜

**ç‰¹æ€§**:
- **ç‹¬ç«‹è¿è¡Œ**: ä¸éœ€è¦å®Œæ•´ Metabase UI
- **æ ·å¼å®šåˆ¶**: åŒ¹é…å®¿ä¸»åº”ç”¨é£æ ¼
- **äº‹ä»¶å›è°ƒ**: ç›‘å¬ç”¨æˆ·äº¤äº’
- **TypeScript æ”¯æŒ**: å®Œæ•´ç±»å‹å®šä¹‰

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
<MetabaseProvider config={config} theme={theme}>
  <StaticDashboard dashboardId={123} />
</MetabaseProvider>
```

---

## ğŸ”„ æ•°æ®æµ

### æŸ¥è¯¢æ‰§è¡Œæµç¨‹

```
1. ç”¨æˆ·åœ¨ UI æ„å»ºæŸ¥è¯¢
     â†“
2. å‰ç«¯ç”Ÿæˆ MBQL æŸ¥è¯¢
     â†“
3. å‘é€åˆ° /api/dataset
     â†“
4. åç«¯æƒé™æ£€æŸ¥
     â†“
5. æŸ¥è¯¢å¤„ç†å™¨è½¬æ¢
     â†“
6. é©±åŠ¨æ‰§è¡ŒåŸç”ŸæŸ¥è¯¢
     â†“
7. ç»“æœåå¤„ç†
     â†“
8. è¿”å›ç»™å‰ç«¯
     â†“
9. æ¸²æŸ“å¯è§†åŒ–
```

### ä»ªè¡¨æ¿åŠ è½½æµç¨‹

```
1. åŠ è½½ä»ªè¡¨æ¿å…ƒæ•°æ®
     â†“
2. è·å–æ‰€æœ‰å¡ç‰‡å®šä¹‰
     â†“
3. å¹¶è¡Œæ‰§è¡Œå¡ç‰‡æŸ¥è¯¢
     â†“
4. åº”ç”¨å‚æ•°å’Œè¿‡æ»¤å™¨
     â†“
5. æ¸²æŸ“å„ä¸ªå¡ç‰‡
     â†“
6. è®¾ç½®äº¤äº’ç›‘å¬
```

---

## ğŸ§© æ¨¡å—ä¾èµ–å…³ç³»

### åç«¯æ¨¡å—ä¾èµ–

```
query-processor (æœ€æ ¸å¿ƒ)
  â”œâ”€â”€ driver
  â”œâ”€â”€ lib
  â”œâ”€â”€ permissions
  â””â”€â”€ database

api (å¯¹å¤–æ¥å£)
  â”œâ”€â”€ query-processor
  â”œâ”€â”€ permissions
  â”œâ”€â”€ models
  â””â”€â”€ util

dashboards
  â”œâ”€â”€ cards
  â”œâ”€â”€ permissions
  â””â”€â”€ collections

actions
  â”œâ”€â”€ database
  â”œâ”€â”€ permissions
  â””â”€â”€ query-processor

analytics (åˆ†æè¿½è¸ª)
  â”œâ”€â”€ snowplow
  â””â”€â”€ prometheus

events (äº‹ä»¶ç³»ç»Ÿ)
  â””â”€â”€ core

email (é‚®ä»¶æœåŠ¡)
  â”œâ”€â”€ messages
  â””â”€â”€ postal

search (æœç´¢)
  â”œâ”€â”€ permissions
  â””â”€â”€ database

task (åå°ä»»åŠ¡)
  â””â”€â”€ quartz

util (å·¥å…·å‡½æ•°)
  â””â”€â”€ (æ— ä¾èµ–)
```

### å‰ç«¯æ¨¡å—ä¾èµ–

```
App (æ ¹ç»„ä»¶)
  â”œâ”€â”€ Router
  â”œâ”€â”€ Redux Store
  â”‚   â”œâ”€â”€ QueryBuilder
  â”‚   â”œâ”€â”€ Dashboard
  â”‚   â”œâ”€â”€ Admin
  â”‚   â”œâ”€â”€ Collections
  â”‚   â””â”€â”€ Settings
  â”œâ”€â”€ Components
  â”‚   â”œâ”€â”€ Visualizations
  â”‚   â”œâ”€â”€ Parameters
  â”‚   â””â”€â”€ Filters
  â””â”€â”€ Hooks

Embedding SDK
  â”œâ”€â”€ MetabaseProvider
  â”œâ”€â”€ Public Components
  â”‚   â”œâ”€â”€ StaticQuestion
  â”‚   â”œâ”€â”€ StaticDashboard
  â”‚   â”œâ”€â”€ InteractiveQuestion
  â”‚   â””â”€â”€ InteractiveDashboard
  â””â”€â”€ Utilities
```

---

## ğŸ“ è®¾è®¡æ¨¡å¼

### åç«¯è®¾è®¡æ¨¡å¼

#### 1. å¤šé‡æ–¹æ³• (Multimethods)
```clojure
;; é©±åŠ¨ç³»ç»Ÿä½¿ç”¨å¤šé‡æ–¹æ³•å®ç°å¤šæ€
(defmulti execute-query! 
  {:arglists '([driver query])}
  driver/dispatch-on-initialized-driver)

(defmethod execute-query! :sql-jdbc
  [driver query]
  ...)
```

#### 2. ä¸­é—´ä»¶æ¨¡å¼
```clojure
;; æŸ¥è¯¢å¤„ç†å™¨ä¸­é—´ä»¶é“¾
(defn wrap-permission-check [qp]
  (fn [query]
    (check-permissions! query)
    (qp query)))
```

#### 3. åè®®å’Œè®°å½•
```clojure
(defprotocol IModel
  (serialize [this])
  (deserialize [this data]))
```

### å‰ç«¯è®¾è®¡æ¨¡å¼

#### 1. å®¹å™¨/å±•ç¤ºç»„ä»¶
- å®¹å™¨ç»„ä»¶: è¿æ¥ Redux, å¤„ç†é€»è¾‘
- å±•ç¤ºç»„ä»¶: çº¯æ¸²æŸ“, æ¥æ”¶ props

#### 2. é«˜é˜¶ç»„ä»¶
```typescript
function withUser(Component) {
  return (props) => {
    const user = useSelector(getCurrentUser);
    return <Component {...props} user={user} />;
  };
}
```

#### 3. Render Props
```typescript
<DataFetcher
  endpoint="/api/dashboard/1"
  render={(data, loading, error) => (
    <Dashboard data={data} />
  )}
/>
```

#### 4. è‡ªå®šä¹‰ Hooks
```typescript
function useQuestion(questionId) {
  const [question, setQuestion] = useState(null);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    fetchQuestion(questionId).then(setQuestion);
  }, [questionId]);
  
  return { question, loading };
}
```

---

## ğŸ—„ æ•°æ®åº“æ¶æ„

### åº”ç”¨æ•°æ®åº“ (App DB)

Metabase ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“å­˜å‚¨åº”ç”¨æ•°æ®,æ”¯æŒ:
- **H2**: é»˜è®¤åµŒå…¥å¼æ•°æ®åº“ (å¼€å‘/æµ‹è¯•)
- **PostgreSQL**: æ¨èç”Ÿäº§ç¯å¢ƒ
- **MySQL**: ç”Ÿäº§ç¯å¢ƒå¤‡é€‰

### æ ¸å¿ƒè¡¨

#### metabase_database
- å­˜å‚¨æ•°æ®æºè¿æ¥ä¿¡æ¯
- åŠ å¯†æ•æ„Ÿé…ç½®
- åŒæ­¥è°ƒåº¦è®¾ç½®

#### report_card
- é—®é¢˜/å¡ç‰‡å®šä¹‰
- MBQL æŸ¥è¯¢
- å¯è§†åŒ–é…ç½®

#### report_dashboard
- ä»ªè¡¨æ¿å®šä¹‰
- å¸ƒå±€ä¿¡æ¯
- å‚æ•°è®¾ç½®

#### report_dashboardcard
- ä»ªè¡¨æ¿å’Œå¡ç‰‡çš„å…³è”
- å¡ç‰‡ä½ç½®å’Œå¤§å°
- å‚æ•°æ˜ å°„

#### core_user
- ç”¨æˆ·ä¿¡æ¯
- åŠ å¯†å¯†ç 
- æœ€åç™»å½•æ—¶é—´

#### permissions_group
- ç”¨æˆ·ç»„å®šä¹‰
- å†…ç½®ç»„: Administrators, All Users

#### permissions
- æƒé™åˆ†é…
- æƒé™è·¯å¾„

#### collection
- é›†åˆç»„ç»‡
- æƒé™è¾¹ç•Œ

---

ç»§ç»­é˜…è¯»:
- [ç¬¬ä¸€éƒ¨åˆ†: é¡¹ç›®æ¦‚è§ˆä¸æŠ€æœ¯æ ˆ](./01-é¡¹ç›®æ¦‚è§ˆä¸æŠ€æœ¯æ ˆ.md)
- [ç¬¬ä¸‰éƒ¨åˆ†: å¼€å‘å·¥ä½œæµä¸æœ€ä½³å®è·µ](./03-å¼€å‘å·¥ä½œæµä¸æœ€ä½³å®è·µ.md)
- [ç¬¬å››éƒ¨åˆ†: æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½²](./04-æµ‹è¯•ä½“ç³»ä¸éƒ¨ç½².md)
